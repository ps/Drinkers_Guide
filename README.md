CS336 Databases Project Bitch
=============================

## Notes ##

Hostname:cs336-9.cs.rutgers.edu

Username:csuser

Password:csad1a0d

To import large files into the database:
http://stackoverflow.com/questions/93128/mysql-error-1153-got-a-packet-bigger-than-max-allowed-packet-bytes

In MySQL shell use these lines to increase the max packet size
```
set global net_buffer_length=1000000; 
set global max_allowed_packet=1000000000;
```
Then put this in the background with Ctrl-Z. Do not exit this shell until after importing

* server directory is at /usr/local/httpd-2.2.14/htdocs [this is so gay]
* mysql passwd same as username passwd
* mapped 'main' to put you in the public html directory [only under root though]
* server has python version 2.4.3 so had to use BeautifulSoup version 3...

## Ideas ##
Some of these are difficult to implement but who knows.

* Use the data to determine a safety ranking of bars based off of the number of offences commited at a bar
* Visualize this with a map (not necessarily google maps), if we stick to one state, we could roll our own simple map which just plots each bar and has a heatmap of how dangerous the bars are
* Have a form to report offences
* Have a tool which locates the safest bar in your area to go to
* If we want to do something with the location, should we have real city/town names with their legitimate zip codes etc? We can get a list of them from [this wikipedia page](http://en.wikipedia.org/wiki/List_of_municipalities_in_New_Jersey)

## Time Table ##
This week:
- Actually create the tables from our flowchart
- Finish all data generation 
- Enforce all of the patterns we want

Next week:
- Make the backend (probably in PHP)
- Make forms to report offences, etc.
- Make at least a couple visualizations of most dangerous areas
- Add profiles of sex offenders
- Real town names from NJ, NY, PA
- Possibly use [google heatmap](https://developers.google.com/maps/documentation/javascript/examples/layer-heatmap)



## Data Generation ##

### Name generation ###
- Run simply with: python <strike>gen.py</strike><ins>this is now drinkers.py</ins> (BeautifulSoup needs to be installed, internet connection needed)
- First and last names are being pulled from the respective text/csv files
- Gender is provided with the names (hard coded to make 20% of names female)
- Age and phone number generated with the random class
- Street name is generated by posting the first name to the Wu-Tang Name Generator (http://www.mess.be/inickgenwuname.php) and scraping the result
- Street number and type (Ave/St/Cir) generated randomly

### Other tables ###
- Towns (for Drinker and Bar) [Kevin - done 11/13]
	- Use wikipedia lists, save to text files. Use google maps api to get lat/lon before generating the other stuff. Save to the text files.
- Drinker(name, address, phone, gender, latitude, longitude, state, city, age) - mostly done, just add lat/lon/town [Kevin - done 11/13]
- Bar(name, address, license, phone, latitude, longitude, state, city) [Kevin - done 11/13]
- Beer(name, alcCont, manf) [Pawel]
- SexOffender(name, dateOccured, sexOffendee) [Pawel] - add pattern for past sex offendees to be more likely to be sex offenders, make sexoffendee other gender most of the time
- Frequents(drinker, bar) [Kevin?]
- Likes(drinker, beer)
- Manufacturer(name, country) 
- Country(name, isAlcProhib)
- Consumed(drinker, bar, date, numDrinks)

### Patterns ###

We need to add a couple of patterns to the data. It might be easier to add all of the data initially and then implement the patterns by deleting records which go against the pattern. This way we can just worry about making a shit ton of data for now.

Some possibilities:

- bars with sex offenders have underage drinkers
- bars with illegal beers have sex offenders
- the higher the alchohol content in the beers which a bar serves correlates to how many sex offenders frequent that bar